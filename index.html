<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>BRT - Boardgame Ranking Tool</title>
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <link href="main.css" rel="stylesheet" />
</head>

<body>

<pre id="elm"></pre>

<script type="text/javascript" src="main.js"></script>
<script>
  var STATE_KEY = "rankingToolState";

  var data = localStorage.getItem(STATE_KEY);

  var app = Elm.Main.init({ 
    node: document.getElementById("elm"),
    flags: JSON.parse(data)
  });
  app.ports.storage.subscribe(function(state){
    localStorage.setItem(STATE_KEY, JSON.stringify(state))
  })
</script>

</body>
</html>